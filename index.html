<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>test2</title>
  <link rel="icon" type="image/png" href="/test/images/fav2.png" />
  <link rel="apple-touch-icon" href="/test/images/fav1.png" />
  <meta name="theme-color" content="#ffffff" />
  <style>
    @import url("https://use.typekit.net/zuk4pzv.css");
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:"minion-pro",serif;background:#fff;}
    a{color:inherit;text-decoration:none;transition:color .3s;}
    a:hover{color:#a3a3a3;}
    .footer{width:100%;height:100px;background:transparent;position:relative;}
    .footer .right-link{position:absolute;bottom:10px;left:30px;font-size:12px;}
    .footer .contact-link{position:absolute;bottom:10px;left:170px;font-size:12px;}
    .footer #listButton{position:absolute;bottom:10px;right:30px;font-size:12px;cursor:pointer;}
    .footer #listButton:hover{color:#a3a3a3;}
    .slide-box{position:fixed;top:0;right:0;width:373px;max-width:100%;height:100%;background:#fff;transform:translateX(100%);transition:transform .3s;overflow-y:auto;z-index:3000;}
    .slide-box.active{transform:translateX(0);}
    .slide-box .slide-list{position:absolute;bottom:10px;right:30px;font-size:12px;cursor:pointer;transition:color .3s;z-index:4001;}
    .slide-box .slide-list:hover{color:#a3a3a3;}
    .text-group{display:flex;align-items:center;font-size:12px;padding:10px 0;white-space:nowrap;}
    .text1{margin-left:10px;}
    .text2{margin-left:auto;margin-right:60px;text-align:right;}
    .text3{margin-right:10px;flex-shrink:0;}
    .content{display:grid;grid-template-columns:repeat(2,1fr);gap:0;}
    .thumbnail{display:flex;flex-direction:column;color:inherit;cursor:pointer;}
    .thumbnail img{width:100%;height:auto;object-fit:cover;display:block;}
    .caption{display:flex;flex-direction:column;margin-top:8px;font-size:12px;align-items:flex-start;}
    .caption .title{margin-bottom:0;}
    .caption .category-year{display:flex;align-items:center;}
    .caption .category{margin-right:10px;}
    ::-webkit-scrollbar{display:none;}
    .scroll-area,.fixed-image{scrollbar-width:none;-ms-overflow-style:none;}
    .header{display:none;}
    @media(max-width:768px){
      .side{display:none}.fixed-image{display:none}.content{grid-template-columns:repeat(2,1fr);column-gap:0;row-gap:0;padding:0}.thumbnail{width:100%;margin-bottom:0}.thumbnail img{width:100%;height:auto}.caption{margin:8px 0}.footer{position:relative;height:100px}.footer .right-link{bottom:20px;left:20px}.footer .contact-link{bottom:20px;left:160px}.footer #listButton{bottom:20px;right:20px}.slide-box{width:100%}.slide-box .slide-list{bottom:20px;right:20px}.header{width:100%;height:60px;background:#fff;display:flex;align-items:center;justify-content:center;position:sticky;top:0;z-index:1000}.header img{height:100%;width:auto}
    }
    @media(min-width:769px){
      body,html{width:100%;height:100%;overflow:hidden}
      .gallery-wrap{width:765px;height:100%;margin:0 auto;display:flex}
      .fixed-image{width:500px;height:100%;position:sticky;top:0;display:flex;justify-content:center;align-items:center;overflow:hidden}
      .fixed-image img{max-width:100%;max-height:100%;object-fit:contain}
      .scroll-area{width:265px;height:100vh;overflow-y:scroll}
      .content{display:grid;grid-template-columns:repeat(2,1fr);gap:0}
      .thumbnail{margin-bottom:8px;width:100%}
    }
  </style>
</head>
<body>
  <div class="header"><img src="/test/images/header0.png" alt="header" /></div>
  <div class="gallery-wrap">
    <div class="fixed-image"><img src="/test/images/index2.png" alt="index" /></div>
    <div class="scroll-area"><div class="content" id="gallery"></div></div>
  </div>
  <div class="footer">
    <div class="right-link"><a href="https://instagram.com/alfoxze" target="_blank">@alfoxze</a></div>
    <div class="contact-link"><a href="mailto:uxxwd9@gmail.com">contact</a></div>
    <div id="listButton" onclick="toggleSlideBox()">list</div>
  </div>
  <div class="slide-box" id="slideBox">
    <div class="slide-list" id="slideToggleText" onclick="toggleSlideBox()">list</div>
    <div id="slideContent"></div>
  </div>
  <script>
    async function loadData(){
      const res = await fetch("data.json");
      const data = await res.json();
      const gallery = document.getElementById('gallery');
      gallery.innerHTML="";
      for(let i=data.length-1;i>=0;i--){
        const d=data[i];
        const item=document.createElement('a');
        item.href=`${i+1}/`;
        item.className='thumbnail thumb'+(i+1);
        item.innerHTML=`<img src="${d.thumbnail}" alt="썸네일${i+1}"/><div class="caption"><span class="title">${d.title}</span><span class="category-year"><span class="category">${d.category}</span><span class="year">${d.year}</span></span></div>`;
        gallery.append(item);
      }
      const slideContent=document.getElementById('slideContent');
      slideContent.innerHTML="";
      data.forEach((d,idx)=>{
        const g=document.createElement('div');g.className='text-group';
        g.innerHTML=`<div class="text1"><a href="${idx+1}/">${d.title}</a></div><div class="text2">${d.category}</div><div class="text3">${d.year}</div>`;
        slideContent.append(g);
      });
    }
    function toggleSlideBox(){
      const sb=document.getElementById('slideBox');const txt=document.getElementById('slideToggleText');
      sb.classList.toggle('active');
      txt.textContent=sb.classList.contains('active')?'close':'list';
    }
    document.addEventListener('DOMContentLoaded',loadData);
  </script>
</body>
</html>
